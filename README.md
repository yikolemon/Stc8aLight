# auto-light
本工程是在单片机结课设计上进行的拓展。
使用springboot+vue+stc8a单片机的忘关灯控制系统。
欢迎课程需求的小伙伴进行交流和学习。

需求场景：
单片机老师的研究生实验室经常忘记关灯，就设计了这个工程。
如果夜间没有关灯，光敏传感器检测到光源，关闭继电器，进入声控灯模式。
如果第二天有人来，进行声控，继电器通路人手动关灯。
如果夜间关灯了，那么继电器将一直保持通路。

单片机使用的Stc8A8K64SA12
配合光敏传感器，声音传感器和DHT11温湿度传感器，使用继电器模块连接灯光开关。
使用8266模块连接socket服务器。

忘记关灯
夜间模式：声控5s
白天模式：第一次声控后打开继电器，手动关灯
记得关灯：
继电器导通

前端和后端服务器交互使用Websocket
后端服务器和8266和java的Socket服务器进行连接。

P0.3口长按8266进入进入AP模式，发送数据格式保存EPROM更改连接热点。
数据校验采用BCC校验。
